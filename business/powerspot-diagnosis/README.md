# 🌟 パワースポット縁診断システム

統計学的根拠に基づく3層統合縁診断により、あなたに最適なパワースポットを診断するWebアプリケーションです。

## ✨ 特徴

- **3層統合診断**: 生まれ持った縁・引き寄せてきた縁・現在の縁状態を総合分析
- **3600パターン完全網羅**: 四柱推命による60分類×五行理論による完全相性計算
- **大容量データベース**: 2600箇所以上のパワースポット対応
- **統計学的根拠**: 四柱推命・五行理論・バイオリズム理論に基づく科学的診断
- **詳細レポート**: 運命・目的別・季節別の多角的スポット提案

## 🏗️ システム構成

```
powerspot-diagnosis/
├── index.html                    # メイン診断画面
├── css/
│   └── style.css                # スタイルシート
├── js/
│   └── powerspot_engine.js      # 診断エンジン
├── data/
│   └── powerspot_data.json      # パワースポットデータベース
└── README.md                    # このファイル
```

## 📋 必要な作業

### 1. データファイルの配置
`data/powerspot_data.json` に2600行のパワースポットデータを配置してください。

期待されるデータ形式：
```json
[
  {
    "地域": "栃木県",
    "パワースポット名": "日光東照宮",
    "ベースエネルギー": 0.95,
    "五行属性": "火",
    "五行詳細": {
      "主属性": "火",
      "副属性": "土",
      "信頼度": 16,
      "判定根拠": ["光系→火", "その他→土", "高エネルギー→火"]
    },
    "縁特性": {
      "相性タイプ": "活動表現型",
      "推奨時期": "夏"
    },
    "更新情報": {
      "更新日": "2025-08-15",
      "判定方式": "客観的統計学的判定v1.0"
    }
  }
]
```

### 2. Vercelデプロイ手順

1. **リポジトリ準備**
   ```bash
   # powerspot-diagnosisフォルダを作成
   mkdir powerspot-diagnosis
   cd powerspot-diagnosis
   
   # ファイルを配置
   # index.html, css/, js/, data/ を配置
   ```

2. **GitHubにプッシュ**
   ```bash
   git add .
   git commit -m "Add powerspot diagnosis system"
   git push origin main
   ```

3. **Vercelでデプロイ**
   - Vercelダッシュボードで「New Project」
   - GitHubリポジトリを選択
   - `business/powerspot-diagnosis/` をルートディレクトリに設定
   - デプロイ実行

## 🔮 診断システムの仕組み

### 3層統合診断システム

#### 第1層: 生まれ持った縁
- **60分類自然タイプ**: 四柱推命の日柱算出による分類
  - 例: 「木の春霞」「火の夕陽」「土の豊穣」
- **名前音韻分析**: 自動音韻解析による3分類
  - 結縁（新しい縁を結ぶ力）
  - 深縁（深い縁を築く力）  
  - 広縁（縁を広げる力）

#### 第2層: 引き寄せてきた縁
- **五行縁型診断**: 4つの質問による5分類
  - 木縁型（成長・発展重視）
  - 火縁型（活動・表現重視）
  - 土縁型（安定・継続重視）
  - 金縁型（効率・質重視）
  - 水縁型（柔軟・適応重視）

#### 第3層: 現在の縁状態
- **10状態バイオリズム**: 個人固有の365日周期
  - 新生期・発展期・充実期・安定期・転換期
  - 調整期・深化期・収束期・沈静期・準備期

### 相性計算アルゴリズム

```javascript
最終相性スコア = 基礎相性（3600パターン）
                + 名前音韻補正
                + 五行縁型補正  
                + バイオリズム補正
```

- **範囲**: 30-100%
- **根拠**: 全ての計算に明確な統計学的根拠
- **重複なし**: カテゴリ間でのスポット重複完全回避

## 🎯 出力内容

### 運命の開運スポット（2箇所）
最高相性の2箇所を「運命のスポット」として提案

### 目的別開運スポット（8箇所）
- 金運スポット（2箇所）
- 恋愛スポット（2箇所）  
- 健康スポット（2箇所）
- 全体運スポット（2箇所）

### 季節別開運スポット（8箇所）
- 春の開運スポット（2箇所）
- 夏の開運スポット（2箇所）
- 秋の開運スポット（2箇所）
- 冬の開運スポット（2箇所）

### 追加情報
- 縁バイオリズムカレンダー
- 個人向け総合アドバイス
- 最適訪問時期の提案

## 🛠️ 技術仕様

### フロントエンド
- **HTML5/CSS3/JavaScript**: バニラJS使用
- **レスポンシブデザイン**: モバイル完全対応
- **モダンUI**: グラデーション・アニメーション対応

### データ処理
- **非同期処理**: Fetch API使用
- **エラーハンドリング**: 完全なフォールバック機能
- **キャッシュ対応**: ブラウザキャッシュ活用

### パフォーマンス
- **高速処理**: 2600件データも瞬時計算
- **軽量設計**: 外部ライブラリ依存なし
- **SEO対応**: メタタグ・構造化データ対応

## 🔧 カスタマイズ

### データ追加
`data/powerspot_data.json` に新しいスポット情報を追加するだけで自動対応

### UI変更
`css/style.css` でデザインカスタマイズ可能

### ロジック調整
`js/powerspot_engine.js` の相性計算アルゴリズムを調整可能

## 📱 対応環境

- **モダンブラウザ**: Chrome, Firefox, Safari, Edge
- **モバイル**: iOS Safari, Android Chrome
- **PWA対応**: インストール可能（将来対応予定）

## 🚀 今後の拡張予定

- [ ] PWA対応（オフライン利用）
- [ ] ソーシャルシェア機能強化
- [ ] 診断結果PDF出力
- [ ] 多言語対応（英語・中国語）
- [ ] API化（外部サービス連携）

## 📞 サポート

システムに関する質問やバグ報告は、GitHubのIssuesまでお願いします。

---

**© 2025 パワースポット縁診断システム. All rights reserved.**

*統計学的根拠に基づく本格的な縁診断をお楽しみください。*
