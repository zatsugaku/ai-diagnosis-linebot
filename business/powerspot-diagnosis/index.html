<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Áµ±Ë®àÂ≠¶ÁöÑÊ†πÊã†„Å´Âü∫„Å•„ÅèÊú¨Ê†ºÁöÑ„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàË®∫Êñ≠„Çµ„Éº„Éì„Çπ">
    <title>Á∏Å„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàË®∫Êñ≠„Ç∑„Çπ„ÉÜ„É† v3.1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', 'Meiryo', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-section {
            margin-bottom: 25px;
        }

        .form-section h3 {
            color: #5a67d8;
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #4a5568;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #5a67d8;
            box-shadow: 0 0 0 3px rgba(90, 103, 216, 0.1);
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            color: #2d3748;
            font-size: 1.2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .radio-option {
            display: flex;
            align-items: flex-start;
            padding: 18px 22px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #ffffff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            position: relative;
        }

        .radio-option::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: transparent;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .radio-option:hover {
            border-color: #5a67d8;
            background-color: #f8faff;
            transform: translateX(4px);
            box-shadow: 0 4px 16px rgba(90, 103, 216, 0.1);
        }

        .radio-option:hover::before {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .radio-option input[type="radio"] {
            margin-right: 15px;
            margin-top: 2px;
            transform: scale(1.4);
            accent-color: #5a67d8;
            flex-shrink: 0;
        }

        .radio-option.selected {
            border-color: #5a67d8;
            background: linear-gradient(135deg, #ebf4ff 0%, #f0f8ff 100%);
            box-shadow: 0 4px 20px rgba(90, 103, 216, 0.15);
            transform: translateX(4px);
        }

        .radio-option.selected::before {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .radio-text {
            line-height: 1.7;
            font-size: 1rem;
            color: #2d3748;
            flex: 1;
        }

        .radio-option.selected .radio-text {
            color: #2c5aa0;
            font-weight: 500;
        }

        /* ÈÅ∏ÊäûËÇ¢„ÅÆÂÖàÈ†≠„Å´ÁµµÊñáÂ≠ó„ÇíËøΩÂä† */
        .radio-option[data-value="Êú®"] .radio-text::before { content: "üå± "; }
        .radio-option[data-value="ÁÅ´"] .radio-text::before { content: "üî• "; }
        .radio-option[data-value="Âúü"] .radio-text::before { content: "üåç "; }
        .radio-option[data-value="Èáë"] .radio-text::before { content: "‚ö° "; }
        .radio-option[data-value="Ê∞¥"] .radio-text::before { content: "üíß "; }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-area {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .results-area.show {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #5a67d8;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background-color: #fed7d7;
            color: #c53030;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #e53e3e;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #e2e8f0;
            color: #a0aec0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active {
            background-color: #5a67d8;
            color: white;
        }

        .step.completed {
            background-color: #48bb78;
            color: white;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .radio-option {
                padding: 12px;
            }
        }

        .materials-output {
            background-color: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }

        .section-title {
            color: #2d3748;
            border-bottom: 2px solid #5a67d8;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Á∏Å„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàË®∫Êñ≠</h1>
            <p>Áµ±Ë®àÂ≠¶ÁöÑÊ†πÊã†„Å´Âü∫„Å•„ÅèÊú¨Ê†ºÁöÑ„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàË®∫Êñ≠„Ç∑„Çπ„ÉÜ„É† v3.1</p>
        </div>

        <!-- „Çπ„ÉÜ„ÉÉ„Éó„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº -->
        <div class="step-indicator">
            <div class="step active" id="step1">1</div>
            <div class="step" id="step2">2</div>
            <div class="step" id="step3">3</div>
        </div>

        <!-- „Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Ë®∫Êñ≠„Éï„Ç©„Éº„É† -->
        <div class="card" id="diagnosisForm">
            <h2 class="section-title">Á∏Å„ÅÆÁµ±ÂêàÂàÜÊûêË®∫Êñ≠</h2>
            
            <!-- Âü∫Êú¨ÊÉÖÂ†±„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <div class="form-section">
                <h3>üå∏ Âü∫Êú¨ÊÉÖÂ†±</h3>
                
                <div class="input-group">
                    <label for="birthDate">ÁîüÂπ¥ÊúàÊó•</label>
                    <input type="date" id="birthDate" required>
                </div>

                <div class="input-group">
                    <label for="firstName">ÂêçÂâçÔºà„É≠„Éº„ÉûÂ≠óÔºâ</label>
                    <input type="text" id="firstName" placeholder="‰æã: Taro" required>
                    <small style="color: #666; font-size: 0.9rem;">‚Äª„É≠„Éº„ÉûÂ≠ó„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</small>
                </div>

                <div class="input-group">
                    <label for="lastName">ËãóÂ≠óÔºà„É≠„Éº„ÉûÂ≠óÔºâ</label>
                    <input type="text" id="lastName" placeholder="‰æã: Yamada" required>
                    <small style="color: #666; font-size: 0.9rem;">‚Äª„É≠„Éº„ÉûÂ≠ó„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</small>
                </div>

                <div class="input-group">
                    <div style="background: #f0f8ff; padding: 15px; border-radius: 8px; border-left: 4px solid #5a67d8;">
                        <h4 style="color: #5a67d8; margin-bottom: 8px;">üîÆ Èü≥Èüª„Çø„Ç§„ÉóËá™ÂãïÂà§ÂÆö</h4>
                        <p style="color: #666; margin: 0; font-size: 0.95rem;">
                            ÂÖ•Âäõ„Åï„Çå„ÅüÂêçÂâç„Åã„ÇâÈü≥Èüª„ÅÆÁâπÊÄß„ÇíÂàÜÊûê„Åó„ÄÅÁ∏Å„ÅÆ„Çø„Ç§„ÉóÔºàÁµêÁ∏Å„ÉªÊ∑±Á∏Å„ÉªÂ∫ÉÁ∏ÅÔºâ„ÇíËá™ÂãïÂà§ÂÆö„Åó„Åæ„Åô
                        </p>
                        <div id="nameAnalysisResult" style="margin-top: 10px; font-weight: bold; color: #5a67d8;">
                            ÂêçÂâç„ÇíÂÖ•Âäõ„Åô„Çã„Å®Èü≥ÈüªÂàÜÊûêÁµêÊûú„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ë®∫Êñ≠Ë≥™Âïè„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <div class="form-section">
                <h3>üîÆ Á∏Å„ÅÆ‰ΩìÈ®ìË®∫Êñ≠</h3>
                
                <!-- Ë≥™Âïè1 -->
                <div class="input-group">
                    <div class="question-text">1. „Åì„Çå„Åæ„Åß„ÅÆ‰ªï‰∫ã„ÇÑ‰∏ª„Å™Ê¥ªÂãï„Å´„Å§„ÅÑ„Å¶„ÄÅÊúÄ„ÇÇÂΩì„Å¶„ÅØ„Åæ„Çã„ÇÇ„ÅÆ„ÅØÔºü</div>
                    <div class="radio-group">
                        <label class="radio-option" data-value="Êú®" data-question="work">
                            <input type="radio" name="work_pattern" value="Êú®">
                            <span class="radio-text">Êñ∞„Åó„ÅÑ„Åì„Å®„ÇíÂ≠¶„Çì„Å†„Çä„ÄÅ‰∫∫„Å®„ÅÆ„Å§„Å™„Åå„Çä„ÇíÂ∫É„Åí„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ</span>
                        </label>
                        <label class="radio-option" data-value="ÁÅ´" data-question="work">
                            <input type="radio" name="work_pattern" value="ÁÅ´">
                            <span class="radio-text">‰∫∫Ââç„ÅßË©±„Åó„Åü„Çä„ÄÅÊ¥ªÁô∫„Å´Âãï„ÅçÂõû„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ</span>
                        </label>
                        <label class="radio-option" data-value="Âúü" data-question="work">
                            <input type="radio" name="work_pattern" value="Âúü">
                            <span class="radio-text">Á∂ôÁ∂öÁöÑ„ÅßÂÆâÂÆö„Åó„Åü‰ΩúÊ•≠„ÇÑ„ÄÅ‰∫∫„Çí„Çµ„Éù„Éº„Éà„Åô„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ</span>
                        </label>
                        <label class="radio-option" data-value="Èáë" data-question="work">
                            <input type="radio" name="work_pattern" value="Èáë">
                            <span class="radio-text">ÂäπÁéáÂåñ„ÇÑÊîπÂñÑ„ÄÅË≥™„ÅÆÂêë‰∏ä„Å´Âèñ„ÇäÁµÑ„ÇÄ„Åì„Å®„ÅåÂ§ö„ÅÑ</span>
                        </label>
                        <label class="radio-option" data-value="Ê∞¥" data-question="work">
                            <input type="radio" name="work_pattern" value="Ê∞¥">
                            <span class="radio-text">Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ÊüîËªü„Å´ÂØæÂøú„Åó„Åü„Çä„ÄÅÊÉÖÂ†±„ÇíÊâ±„ÅÜ„Åì„Å®„ÅåÂ§ö„ÅÑ</span>
                        </label>
                    </div>
                </div>

                <!-- Ë≥™Âïè2 -->
                <div class="input-group">
                    <div class="question-text">2. ‰∫∫ÈñìÈñ¢‰øÇ„Å´„Åä„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅåËá™ÁÑ∂„Å´Âèñ„ÇãË°åÂãï„ÅØÔºü</div>
                    <div class="radio-group">
                        <label class="radio-option" data-value="Êú®" data-question="relationship">
                            <input type="radio" name="relationship_style" value="Êú®">
                            <span class="radio-text">Áõ∏Êâã„ÅÆÊàêÈï∑„ÇíÊîØÊè¥„Åó„Åü„Çä„ÄÅÊñ∞„Åó„ÅÑÂèØËÉΩÊÄß„Çí‰∏ÄÁ∑í„Å´Êé¢„Çã</span>
                        </label>
                        <label class="radio-option" data-value="ÁÅ´" data-question="relationship">
                            <input type="radio" name="relationship_style" value="ÁÅ´">
                            <span class="radio-text">Â†¥„ÇíÁõõ„Çä‰∏ä„Åí„Åü„Çä„ÄÅÁöÜ„ÅÆ„É¢„ÉÅ„Éô„Éº„Ç∑„Éß„É≥„ÇíÈ´ò„ÇÅ„Çã</span>
                        </label>
                        <label class="radio-option" data-value="Âúü" data-question="relationship">
                            <input type="radio" name="relationship_style" value="Âúü">
                            <span class="radio-text">ÂÆâÂøÉ„Åß„Åç„ÇãÁí∞Â¢É„Çí‰Ωú„Å£„Åü„Çä„ÄÅË™øÂíå„ÇíÈáçË¶ñ„Åô„Çã</span>
                        </label>
                        <label class="radio-option" data-value="Èáë" data-question="relationship">
                            <input type="radio" name="relationship_style" value="Èáë">
                            <span class="radio-text">ÁöÑÁ¢∫„Å™„Ç¢„Éâ„Éê„Ç§„Çπ„Çí„Åó„Åü„Çä„ÄÅÂìÅË≥™„ÅÆÈ´ò„ÅÑÈñ¢‰øÇ„ÇíÁØâ„Åè</span>
                        </label>
                        <label class="radio-option" data-value="Ê∞¥" data-question="relationship">
                            <input type="radio" name="relationship_style" value="Ê∞¥">
                            <span class="radio-text">Áõ∏Êâã„Å´Âêà„Çè„Åõ„Å¶ÊüîËªü„Å´ÂØæÂøú„Åó„Åü„Çä„ÄÅÊ∑±„ÅèÁêÜËß£„Åó„Çà„ÅÜ„Å®„Åô„Çã</span>
                        </label>
                    </div>
                </div>

                <!-- Ë≥™Âïè3 -->
                <div class="input-group">
                    <div class="question-text">3. „Çπ„Éà„É¨„Çπ„ÇíÊÑü„Åò„ÇãÊôÇ„ÇÑÂõ∞„Å£„ÅüÊôÇ„ÅÆÂØæÂá¶Ê≥ï„ÅØÔºü</div>
                    <div class="radio-group">
                        <label class="radio-option" data-value="Êú®" data-question="stress">
                            <input type="radio" name="stress_handling" value="Êú®">
                            <span class="radio-text">Êñ∞„Åó„ÅÑÁí∞Â¢É„Å´Ë∫´„ÇíÁΩÆ„ÅÑ„Åü„Çä„ÄÅÂ≠¶„Å≥„ÇÑÊàêÈï∑„ÅÆÊ©ü‰ºö„ÇíÊ±Ç„ÇÅ„Çã</span>
                        </label>
                        <label class="radio-option" data-value="ÁÅ´" data-question="stress">
                            <input type="radio" name="stress_handling" value="ÁÅ´">
                            <span class="radio-text">‰∫∫„Å®Ë©±„Åó„Åü„Çä„ÄÅÊ¥ªÂãïÁöÑ„Å´„Å™„Å£„Å¶Áô∫Êï£„Åô„Çã</span>
                        </label>
                        <label class="radio-option" data-value="Âúü" data-question="stress">
                            <input type="radio" name="stress_handling" value="Âúü">
                            <span class="radio-text">ÂÆâÂÆö„Åó„ÅüÁí∞Â¢É„Åß‰ºëÊÅØ„ÇíÂèñ„Å£„Åü„Çä„ÄÅ‰ø°È†º„Åß„Åç„Çã‰∫∫„Å´Áõ∏Ë´á„Åô„Çã</span>
                        </label>
                        <label class="radio-option" data-value="Èáë" data-question="stress">
                            <input type="radio" name="stress_handling" value="Èáë">
                            <span class="radio-text">Ë®àÁîª„ÇíÁ´ã„Å¶Áõ¥„Åó„Åü„Çä„ÄÅÂäπÁéáÁöÑ„Å™Ëß£Ê±∫Á≠ñ„ÇíËÄÉ„Åà„Çã</span>
                        </label>
                        <label class="radio-option" data-value="Ê∞¥" data-question="stress">
                            <input type="radio" name="stress_handling" value="Ê∞¥">
                            <span class="radio-text">Áä∂Ê≥Å„ÇíÂÆ¢Ë¶≥Ë¶ñ„Åó„Åü„Çä„ÄÅÊµÅ„Çå„Å´‰ªª„Åõ„Å¶ÊßòÂ≠ê„ÇíË¶ã„Çã</span>
                        </label>
                    </div>
                </div>

                <!-- Ë≥™Âïè4 -->
                <div class="input-group">
                    <div class="question-text">4. ÁêÜÊÉ≥ÁöÑ„Å™ÁîüÊ¥ªÁí∞Â¢É„ÇÑÈÅé„Åî„ÅóÊñπ„ÅØÔºü</div>
                    <div class="radio-group">
                        <label class="radio-option" data-value="Êú®" data-question="lifestyle">
                            <input type="radio" name="lifestyle_preference" value="Êú®">
                            <span class="radio-text">Â§âÂåñ„Å´ÂØå„Åø„ÄÅÂ∏∏„Å´Êñ∞„Åó„ÅÑÂà∫ÊøÄ„ÇÑÂ≠¶„Å≥„Åå„ÅÇ„ÇãÁí∞Â¢É</span>
                        </label>
                        <label class="radio-option" data-value="ÁÅ´" data-question="lifestyle">
                            <input type="radio" name="lifestyle_preference" value="ÁÅ´">
                            <span class="radio-text">‰∫∫„Å®„ÅÆ„Å§„Å™„Åå„Çä„ÅåË±äÂØå„Åß„ÄÅ„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•„Å´Ê¥ªÂãï„Åß„Åç„ÇãÁí∞Â¢É</span>
                        </label>
                        <label class="radio-option" data-value="Âúü" data-question="lifestyle">
                            <input type="radio" name="lifestyle_preference" value="Âúü">
                            <span class="radio-text">ÂÆâÂÆö„Åó„Å¶„ÅÑ„Å¶„ÄÅ‰ø°È†º„Åß„Åç„Çã‰∫∫„Å´Âõ≤„Åæ„Çå„ÅüÁ©è„ÇÑ„Åã„Å™Áí∞Â¢É</span>
                        </label>
                        <label class="radio-option" data-value="Èáë" data-question="lifestyle">
                            <input type="radio" name="lifestyle_preference" value="Èáë">
                            <span class="radio-text">Ë≥™„ÅÆÈ´ò„ÅÑÁí∞Â¢É„Åß„ÄÅÂäπÁéáÁöÑ„Å´ÁõÆÊ®ô„ÇíÈÅîÊàê„Åß„Åç„ÇãÁí∞Â¢É</span>
                        </label>
                        <label class="radio-option" data-value="Ê∞¥" data-question="lifestyle">
                            <input type="radio" name="lifestyle_preference" value="Ê∞¥">
                            <span class="radio-text">Ëá™Áî±Â∫¶„ÅåÈ´ò„Åè„ÄÅÁä∂Ê≥Å„Å´Âøú„Åò„Å¶ÊüîËªü„Å´ÈÅ∏Êäû„Åß„Åç„ÇãÁí∞Â¢É</span>
                        </label>
                    </div>
                </div>
            </div>

            <button class="btn-primary" id="startDiagnosis">Á∏Å„ÅÆÁµ±ÂêàÂàÜÊûê„ÇíÈñãÂßã</button>
        </div>

        <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ -->
        <div class="loading" id="loadingArea">
            <div class="spinner"></div>
            <p>Á∏Å„ÅÆÁµ±ÂêàÂàÜÊûê‰∏≠...</p>
            <p>60ÂàÜÈ°û√ó12‰ΩçÁΩÆ„Ç∑„Çπ„ÉÜ„É†„ÅßË®àÁÆó„Åó„Å¶„ÅÑ„Åæ„Åô</p>
        </div>

        <!-- „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏ -->
        <div class="error-message" id="errorMessage">
            <strong>„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü</strong>
            <div id="errorText"></div>
        </div>

        <!-- ÁµêÊûúË°®Á§∫„Ç®„É™„Ç¢ -->
        <div class="results-area" id="resultsArea">
            <div class="card">
                <h2 class="section-title">üéØ Ë®∫Êñ≠ÁµêÊûú</h2>
                <div id="diagnosisResults"></div>
            </div>

            <div class="card">
                <h2 class="section-title">‚≠ê „Åä„Åô„Åô„ÇÅ„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„Éà</h2>
                <div id="powerspotRecommendations"></div>
            </div>

            <div class="card">
                <h2 class="section-title">üìã ClaudeÁî®„É¨„Éù„Éº„ÉàÁîüÊàêÊùêÊñô</h2>
                <p style="margin-bottom: 15px; color: #666;">
                    ‰ª•‰∏ã„ÅÆÊùêÊñô„ÇíClaudeÔºàAIÔºâ„Å´„Ç≥„Éî„ÉºÔºÜ„Éö„Éº„Çπ„Éà„Åó„Å¶„ÄÅË©≥Á¥∞„Å™„É¨„Éù„Éº„Éà„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                </p>
                <div class="materials-output" id="reportMaterials"></div>
                <button class="btn-primary" id="copyMaterials" style="margin-top: 15px;">
                    ÊùêÊñô„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø -->
    <script>
        // „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞
        let diagnosisData = {};
        let currentStep = 1;

        // DOM„É≠„Éº„ÉâÊôÇ„ÅÆÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        // „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÂàùÊúüÂåñ
        function initializeApp() {
            console.log('Á∏Å„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàË®∫Êñ≠„Ç∑„Çπ„ÉÜ„É† v3.1 ÂàùÊúüÂåñ‰∏≠...');
            
            // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
            setupEventListeners();
            
            // „Éï„Ç©„Éº„É†ÂàùÊúüÂåñ
            initializeForm();
            
            console.log('ÂàùÊúüÂåñÂÆå‰∫Ü');
        }

        // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
        function setupEventListeners() {
            // Ë®∫Êñ≠ÈñãÂßã„Éú„Çø„É≥
            document.getElementById('startDiagnosis').addEventListener('click', handleDiagnosisStart);
            
            // „É©„Ç∏„Ç™„Éú„Çø„É≥„ÅÆÈÅ∏ÊäûÂá¶ÁêÜ
            document.querySelectorAll('.radio-option').forEach(option => {
                option.addEventListener('click', handleRadioSelection);
            });

            // ÂêçÂâçÂÖ•Âäõ„ÅÆÈü≥ÈüªÂàÜÊûê
            document.getElementById('firstName').addEventListener('input', analyzeNameAcoustics);
            document.getElementById('lastName').addEventListener('input', analyzeNameAcoustics);

            // ÊùêÊñô„Ç≥„Éî„Éº„Éú„Çø„É≥
            document.getElementById('copyMaterials').addEventListener('click', copyMaterialsToClipboard);

            // „Éï„Ç©„Éº„É†ÂÖ•Âäõ„ÅÆÈÄ≤ÊçóÊõ¥Êñ∞
            document.getElementById('birthDate').addEventListener('change', updateProgress);
            document.getElementById('firstName').addEventListener('input', updateProgress);
            document.getElementById('lastName').addEventListener('input', updateProgress);
        }

        // „Éï„Ç©„Éº„É†ÂàùÊúüÂåñ
        function initializeForm() {
            // ‰ªäÊó•„ÅÆÊó•‰ªò„ÇíË®≠ÂÆöÔºàÁîüÂπ¥ÊúàÊó•„ÅÆÊúÄÂ§ßÂÄ§„Å®„Åó„Å¶Ôºâ
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('birthDate').setAttribute('max', today);
            
            // 1900Âπ¥„ÇíÊúÄÂ∞èÂÄ§„Å®„Åó„Å¶Ë®≠ÂÆö
            document.getElementById('birthDate').setAttribute('min', '1900-01-01');
        }

        // „É©„Ç∏„Ç™„Éú„Çø„É≥ÈÅ∏ÊäûÂá¶ÁêÜ
        function handleRadioSelection(event) {
            const clickedOption = event.currentTarget;
            const questionName = clickedOption.querySelector('input[type="radio"]').name;
            
            // Âêå„Åò„Ç∞„É´„Éº„Éó„ÅÆ‰ªñ„ÅÆÈÅ∏Êäû„ÇíËß£Èô§
            document.querySelectorAll(`input[name="${questionName}"]`).forEach(radio => {
                radio.closest('.radio-option').classList.remove('selected');
            });
            
            // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÈÅ∏ÊäûËÇ¢„ÇíÈÅ∏ÊäûÁä∂ÊÖã„Å´
            clickedOption.classList.add('selected');
            clickedOption.querySelector('input[type="radio"]').checked = true;
            
            updateProgress();
        }

        // ÂêçÂâçÈü≥ÈüªÂàÜÊûê
        function analyzeNameAcoustics() {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const resultDiv = document.getElementById('nameAnalysisResult');
            
            console.log('ÂêçÂâçÂàÜÊûêÂÆüË°å:', firstName, lastName);
            
            if (!firstName && !lastName) {
                resultDiv.innerHTML = 'ÂêçÂâç„ÇíÂÖ•Âäõ„Åô„Çã„Å®Èü≥ÈüªÂàÜÊûêÁµêÊûú„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô';
                resultDiv.style.color = '#666';
                diagnosisData.nameType = null;
                updateProgress();
                return;
            }
            
            if (!firstName || !lastName) {
                resultDiv.innerHTML = '<span style="color: #e53e3e;">ÂêçÂâç„Å®ËãóÂ≠ó„ÅÆ‰∏°Êñπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</span>';
                diagnosisData.nameType = null;
                updateProgress();
                return;
            }
            
            // Èü≥ÈüªÂàÜÊûê„É≠„Ç∏„ÉÉ„ÇØÔºàÁ∞°ÊòìÁâàÔºâ
            const nameType = determineNameAcousticType(firstName, lastName);
            const typeInfo = getNameTypeInfo(nameType);
            
            resultDiv.innerHTML = `
                <div style="color: #5a67d8; font-size: 1.1rem; margin-bottom: 5px;">
                    ‚ú® Âà§ÂÆöÁµêÊûú: <strong>${nameType}</strong>
                </div>
                <div style="color: #666; font-size: 0.95rem;">
                    ${typeInfo.description}
                </div>
            `;
            
            // „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞„Å´‰øùÂ≠ò
            diagnosisData.nameType = nameType;
            diagnosisData.firstName = firstName;
            diagnosisData.lastName = lastName;
            
            console.log('Èü≥ÈüªÂàÜÊûêÁµêÊûú:', nameType);
            updateProgress();
        }

        // ÂêçÂâçÈü≥Èüª„Çø„Ç§„ÉóÂà§ÂÆö
        function determineNameAcousticType(firstName, lastName) {
            const fullName = (firstName + lastName).toLowerCase();
            
            // ÊØçÈü≥„Ç´„Ç¶„É≥„Éà
            const vowels = (fullName.match(/[aiueo]/g) || []).length;
            const consonants = fullName.length - vowels;
            const vowelRatio = vowels / fullName.length;
            
            // Èü≥Èüª„Éë„Çø„Éº„É≥ÂàÜÊûê
            const hasRepeatingVowels = /([aiueo])\1/.test(fullName);
            const hasFlowingPattern = /[aiueo][aiueo]/.test(fullName);
            const hasSharpSounds = /[kst]/.test(fullName);
            
            // Âà§ÂÆö„É≠„Ç∏„ÉÉ„ÇØ
            if (vowelRatio > 0.5 && hasFlowingPattern) {
                return 'Ê∑±Á∏Å'; // Ê∑±„ÅÑ„Å§„Å™„Åå„Çä„ÇíËÇ≤„ÇÄÈü≥
            } else if (hasRepeatingVowels || vowelRatio > 0.6) {
                return 'Â∫ÉÁ∏Å'; // ÂπÖÂ∫É„ÅÑÁ∏Å„ÇíÁØâ„ÅèÈü≥
            } else {
                return 'ÁµêÁ∏Å'; // Êñ∞„Åó„ÅÑÂá∫‰ºö„ÅÑ„ÇíÂºï„ÅçÂØÑ„Åõ„ÇãÈü≥
            }
        }

        // ÂêçÂâç„Çø„Ç§„ÉóÊÉÖÂ†±ÂèñÂæó
        function getNameTypeInfo(nameType) {
            const typeInfoMap = {
                'ÁµêÁ∏Å': {
                    description: 'Êñ∞„Åó„ÅÑÂá∫‰ºö„ÅÑ„ÇÑÊ©ü‰ºö„ÇíÂºï„ÅçÂØÑ„Åõ„ÇãÈü≥ÈüªÁâπÊÄß'
                },
                'Ê∑±Á∏Å': {
                    description: 'Ê∑±„ÅèÁ∂ôÁ∂öÁöÑ„Å™„Å§„Å™„Åå„Çä„ÇíËÇ≤„ÇÄÈü≥ÈüªÁâπÊÄß'
                },
                'Â∫ÉÁ∏Å': {
                    description: 'ÂπÖÂ∫É„ÅÑ‰∫∫ËÑà„ÇÑÂ§öÊßò„Å™Á∏Å„ÇíÁØâ„ÅèÈü≥ÈüªÁâπÊÄß'
                }
            };
            
            return typeInfoMap[nameType] || typeInfoMap['ÁµêÁ∏Å'];
        }
        function updateProgress() {
            const requiredFields = [
                'birthDate',
                'nameType'
            ];
            
            const requiredRadios = [
                'work_pattern',
                'relationship_style', 
                'stress_handling',
                'lifestyle_preference'
            ];
            
            let completed = 0;
            const total = requiredFields.length + requiredRadios.length;
            
            // ÈÄöÂ∏∏„Éï„Ç£„Éº„É´„Éâ„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
            requiredFields.forEach(fieldId => {
                if (document.getElementById(fieldId).value) {
                    completed++;
                }
            });
            
            // „É©„Ç∏„Ç™„Éú„Çø„É≥„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
            requiredRadios.forEach(radioName => {
                if (document.querySelector(`input[name="${radioName}"]:checked`)) {
                    completed++;
                }
            });
            
            const progress = (completed / total) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // „Çπ„ÉÜ„ÉÉ„ÉóÊõ¥Êñ∞
            updateStepIndicator(progress);
        }

        // „Çπ„ÉÜ„ÉÉ„Éó„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºÊõ¥Êñ∞
        function updateStepIndicator(progress) {
            const steps = document.querySelectorAll('.step');
            
            if (progress >= 33) {
                steps[0].classList.add('completed');
                steps[0].classList.remove('active');
                steps[1].classList.add('active');
                currentStep = 2;
            }
            
            if (progress >= 66) {
                steps[1].classList.add('completed');
                steps[1].classList.remove('active');
                steps[2].classList.add('active');
                currentStep = 3;
            }
            
            if (progress === 100) {
                steps[2].classList.add('completed');
            }
        }

        // Ë®∫Êñ≠ÈñãÂßãÂá¶ÁêÜ
        async function handleDiagnosisStart() {
            console.log('Ë®∫Êñ≠ÈñãÂßã„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü');
            
            try {
                // „Éï„Ç©„Éº„É†Ê§úË®º
                if (!validateForm()) {
                    console.log('„Éï„Ç©„Éº„É†Ê§úË®ºÂ§±Êïó');
                    return;
                }
                
                console.log('„Éï„Ç©„Éº„É†Ê§úË®ºÊàêÂäü');
                
                // „Éá„Éº„ÇøÂèéÈõÜ
                collectFormData();
                console.log('„Éá„Éº„ÇøÂèéÈõÜÂÆå‰∫Ü:', diagnosisData);
                
                // UIÊõ¥Êñ∞Ôºà„É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫Ôºâ
                showLoading();
                console.log('„É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ÈñãÂßã');
                
                // Ë®∫Êñ≠ÂÆüË°å
                await executeDiagnosis();
                console.log('Ë®∫Êñ≠ÂÆüË°åÂÆå‰∫Ü');
                
                // ÁµêÊûúË°®Á§∫
                displayResults();
                console.log('ÁµêÊûúË°®Á§∫ÂÆå‰∫Ü');
                
            } catch (error) {
                console.error('Ë®∫Êñ≠„Ç®„É©„Éº:', error);
                showError('Ë®∫Êñ≠‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ' + error.message);
            }
        }

        // „Éï„Ç©„Éº„É†Ê§úË®º
        function validateForm() {
            console.log('„Éï„Ç©„Éº„É†Ê§úË®ºÈñãÂßã');
            console.log('ÁèæÂú®„ÅÆdiagnosisData:', diagnosisData);
            
            const requiredFields = [
                { id: 'birthDate', name: 'ÁîüÂπ¥ÊúàÊó•' },
                { id: 'firstName', name: 'ÂêçÂâç' },
                { id: 'lastName', name: 'ËãóÂ≠ó' }
            ];
            
            const requiredRadios = [
                { name: 'work_pattern', label: '‰ªï‰∫ã„ÉªÊ¥ªÂãï„Éë„Çø„Éº„É≥' },
                { name: 'relationship_style', label: '‰∫∫ÈñìÈñ¢‰øÇ„Çπ„Çø„Ç§„É´' },
                { name: 'stress_handling', label: '„Çπ„Éà„É¨„ÇπÂØæÂá¶Ê≥ï' },
                { name: 'lifestyle_preference', label: 'ÁêÜÊÉ≥ÁöÑ„Å™ÁîüÊ¥ªÁí∞Â¢É' }
            ];
            
            // ÈÄöÂ∏∏„Éï„Ç£„Éº„É´„ÉâÊ§úË®º
            for (const field of requiredFields) {
                const element = document.getElementById(field.id);
                if (!element.value) {
                    showError(`${field.name}„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`);
                    element.focus();
                    return false;
                }
            }
            
            // „É©„Ç∏„Ç™„Éú„Çø„É≥Ê§úË®º
            for (const radio of requiredRadios) {
                const checkedRadio = document.querySelector(`input[name="${radio.name}"]:checked`);
                if (!checkedRadio) {
                    showError(`${radio.label}„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`);
                    return false;
                }
                console.log(`${radio.name}:`, checkedRadio.value);
            }
            
            // ÂêçÂâçÈü≥Èüª„ÉÅ„Çß„ÉÉ„ÇØ
            if (!diagnosisData.nameType) {
                showError('ÂêçÂâç„ÅÆÈü≥ÈüªÂàÜÊûê„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇÂêçÂâç„Å®ËãóÂ≠ó„ÇíÊ≠£„Åó„ÅèÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return false;
            }
            
            console.log('„Éï„Ç©„Éº„É†Ê§úË®ºÊàêÂäü');
            return true;
        }

        // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
        function showLoading() {
            console.log('showLoadingÂÆüË°å');
            document.getElementById('diagnosisForm').style.display = 'none';
            document.getElementById('loadingArea').classList.add('show');
            document.getElementById('errorMessage').classList.remove('show');
        }

        // „É≠„Éº„Éá„Ç£„É≥„Ç∞ÈùûË°®Á§∫
        function hideLoading() {
            console.log('hideLoadingÂÆüË°å');
            document.getElementById('loadingArea').classList.remove('show');
        }

        // „Ç®„É©„ÉºË°®Á§∫
        function showError(message) {
            console.log('showErrorÂÆüË°å:', message);
            document.getElementById('errorText').textContent = message;
            document.getElementById('errorMessage').classList.add('show');
            document.getElementById('loadingArea').classList.remove('show');
        }

        // „Éï„Ç©„Éº„É†„Éá„Éº„ÇøÂèéÈõÜ
        function collectFormData() {
            diagnosisData = {
                ...diagnosisData, // Êó¢Â≠ò„ÅÆÂêçÂâç„Éá„Éº„Çø„Çí‰øùÊåÅ
                birthDate: document.getElementById('birthDate').value,
                workPattern: document.querySelector('input[name="work_pattern"]:checked').value,
                relationshipStyle: document.querySelector('input[name="relationship_style"]:checked').value,
                stressHandling: document.querySelector('input[name="stress_handling"]:checked').value,
                lifestylePreference: document.querySelector('input[name="lifestyle_preference"]:checked').value
            };
            
            console.log('ÂèéÈõÜ„Åï„Çå„Åü„Éá„Éº„Çø:', diagnosisData);
        }

        // Ë®∫Êñ≠ÂÆüË°åÔºà„É¢„ÉÉ„ÇØÂÆüË£ÖÔºâ
        async function executeDiagnosis() {
            // Ë®∫Êñ≠„É≠„Ç∏„ÉÉ„ÇØ„ÅåÂÆüË£Ö„Åï„Çå„Çã„Åæ„Åß„ÅÆ„É¢„ÉÉ„ÇØÂá¶ÁêÜ
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // TODO: ÂÆüÈöõ„ÅÆË®∫Êñ≠„É≠„Ç∏„ÉÉ„ÇØ„Çí„Åì„Åì„Å´ÂÆüË£Ö
            // ÁèæÂú®„ÅØ„ÉÄ„Éü„Éº„Éá„Éº„Çø„ÇíËøî„Åô
            diagnosisData.results = {
                naturalType: "Êú®„ÅÆÊò•Èúû",
                position: 1,
                element: "Êú®",
                phenomena: "Êò•Èúû",
                compatibility: 85,
                spots: [
                    { name: "ÊòéÊ≤ªÁ•ûÂÆÆ", prefecture: "Êù±‰∫¨ÈÉΩ", compatibility: 95 },
                    { name: "‰ºäÂã¢Á•ûÂÆÆ", prefecture: "‰∏âÈáçÁúå", compatibility: 92 },
                    { name: "Âá∫Èõ≤Â§ßÁ§æ", prefecture: "Â≥∂Ê†πÁúå", compatibility: 89 }
                ]
            };
            
            console.log('Ë®∫Êñ≠ÂÆå‰∫Ü:', diagnosisData.results);
        }

        // ÁµêÊûúË°®Á§∫
        function displayResults() {
            hideLoading();
            
            // Ë®∫Êñ≠ÁµêÊûú„ÇíË°®Á§∫
            displayDiagnosisResults();
            
            // „Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàÊé®Ëñ¶„ÇíË°®Á§∫
            displayPowerspotRecommendations();
            
            // „É¨„Éù„Éº„ÉàÁîüÊàêÊùêÊñô„ÇíË°®Á§∫
            displayReportMaterials();
            
            // ÁµêÊûú„Ç®„É™„Ç¢„ÇíË°®Á§∫
            document.getElementById('resultsArea').classList.add('show');
            
            // ÁµêÊûú„Ç®„É™„Ç¢„Åæ„Åß„Çπ„ÇØ„É≠„Éº„É´
            document.getElementById('resultsArea').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        // Ë®∫Êñ≠ÁµêÊûúË°®Á§∫
        function displayDiagnosisResults() {
            const resultsDiv = document.getElementById('diagnosisResults');
            const results = diagnosisData.results;
            
            resultsDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h3 style="margin-bottom: 10px;">‚ú® „ÅÇ„Å™„Åü„ÅÆÁ∏Å„Çø„Ç§„Éó</h3>
                    <h2 style="font-size: 2rem; margin-bottom: 10px;">${results.naturalType}</h2>
                    <p>‰∫îË°åÂ±ûÊÄß: ${results.element} | Ëá™ÁÑ∂ÁèæË±°: ${results.phenomena} | ‰ΩçÁΩÆ: ${results.position}Áï™</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="background: #f0fff4; padding: 15px; border-radius: 8px; border-left: 4px solid #38a169;">
                        <h4 style="color: #38a169; margin-bottom: 8px;">Á∏Å„ÅÆÂº∑„Åï</h4>
                        <div style="font-size: 1.5rem; font-weight: bold; color: #2f855a;">${results.compatibility}%</div>
                    </div>
                    
                    <div style="background: #fffaf0; padding: 15px; border-radius: 8px; border-left: 4px solid #ed8936;">
                        <h4 style="color: #ed8936; margin-bottom: 8px;">Â∏åÂ∞ëÊÄß</h4>
                        <div style="font-size: 1.5rem; font-weight: bold; color: #c05621;">‰∏ä‰Ωç8%</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: #f7fafc; border-radius: 8px;">
                    <h4 style="color: #4a5568; margin-bottom: 10px;">Âü∫Êú¨ÁâπÊÄß</h4>
                    <p style="line-height: 1.8; color: #2d3748;">
                        ${results.naturalType}„Çø„Ç§„Éó„ÅØ„ÄÅÊñ∞„Åó„ÅÑÂßã„Åæ„Çä„Å®ÊàêÈï∑„ÅÆ„Ç®„Éç„É´„ÇÆ„Éº„ÇíÊåÅ„Å§Á®ÄÂ∞ë„Å™Á∏ÅË≥™„Åß„Åô„ÄÇ
                        Ëá™ÁÑ∂„ÅÆÊò•Èúû„ÅÆ„Çà„ÅÜ„Å´„ÄÅÊüî„Çâ„Åã„Åß‰∏äÂìÅ„Å™È≠ÖÂäõ„ÇíÊåÅ„Å°„ÄÅ‰∫∫„Å®„ÅÆÂá∫‰ºö„ÅÑ„Å´ÊÅµ„Åæ„Çå„ÇÑ„Åô„ÅÑÁâπÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
                    </p>
                </div>
            `;
        }

        // „Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàÊé®Ëñ¶Ë°®Á§∫
        function displayPowerspotRecommendations() {
            const recommendationsDiv = document.getElementById('powerspotRecommendations');
            const results = diagnosisData.results;
            
            let html = '';
            results.spots.forEach((spot, index) => {
                html += `
                    <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 15px; border-left: 4px solid #5a67d8; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 10px;">
                            <h4 style="color: #2d3748; margin: 0; font-size: 1.2rem;">${index + 1}. ${spot.name}</h4>
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 5px 12px; border-radius: 20px; font-weight: bold;">
                                ${spot.compatibility}%
                            </div>
                        </div>
                        <p style="color: #666; margin: 5px 0;">üìç ${spot.prefecture}</p>
                        <p style="color: #4a5568; margin: 10px 0; line-height: 1.6;">
                            „ÅÇ„Å™„Åü„ÅÆ„Äå${results.naturalType}„Äç„Å®„ÅÆÁõ∏ÊÄß„ÅåÈùûÂ∏∏„Å´È´ò„ÅÑ„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„Éà„Åß„Åô„ÄÇ
                        </p>
                    </div>
                `;
            });
            
            recommendationsDiv.innerHTML = html;
        }

        // „É¨„Éù„Éº„ÉàÁîüÊàêÊùêÊñôË°®Á§∫
        function displayReportMaterials() {
            const materialsDiv = document.getElementById('reportMaterials');
            const data = diagnosisData;
            
            const materials = `
„ÄêÁ∏Å„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„ÉàË®∫Êñ≠ - ClaudeÁî®„É¨„Éù„Éº„ÉàÁîüÊàêÊùêÊñô„Äë

‚ñ† Âü∫Êú¨ÊÉÖÂ†±
- ÁîüÂπ¥ÊúàÊó•: ${data.birthDate}
- ÂêçÂâç: ${data.firstName} ${data.lastName}
- Èü≥Èüª„Çø„Ç§„Éó: ${data.nameType}

‚ñ† Ë®∫Êñ≠ÁµêÊûú
- Ëá™ÁÑ∂„Çø„Ç§„Éó: ${data.results.naturalType}
- ‰∫îË°åÂ±ûÊÄß: ${data.results.element}
- Ëá™ÁÑ∂ÁèæË±°: ${data.results.phenomena}
- ‰ΩçÁΩÆÁï™Âè∑: ${data.results.position}
- Á∏Å„ÅÆÂº∑„Åï: ${data.results.compatibility}%

‚ñ† ‰∫îË°åÁ∏ÅÂûãÂàÜÊûê
- ‰ªï‰∫ã„Éë„Çø„Éº„É≥: ${data.workPattern}Á≥ªÁµ±
- ‰∫∫ÈñìÈñ¢‰øÇ: ${data.relationshipStyle}Á≥ªÁµ±
- „Çπ„Éà„É¨„ÇπÂØæÂá¶: ${data.stressHandling}Á≥ªÁµ±
- ÁîüÊ¥ªÁí∞Â¢É: ${data.lifestylePreference}Á≥ªÁµ±

‚ñ† „Åä„Åô„Åô„ÇÅ„Éë„ÉØ„Éº„Çπ„Éù„ÉÉ„Éà
${data.results.spots.map((spot, i) => `${i + 1}. ${spot.name}Ôºà${spot.prefecture}Ôºâ- Áõ∏ÊÄß${spot.compatibility}%`).join('\n')}

‚ñ† „É¨„Éù„Éº„ÉàÁîüÊàêÊåáÁ§∫
„Åì„ÅÆÊùêÊñô„ÇíÂü∫„Å´„ÄÅ‰ª•‰∏ã„ÅÆ‰ªïÊßò„Åß„É¨„Éù„Éº„Éà„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
- ÊñáÂ≠óÊï∞: 15,000-18,000Â≠ó
- ÊßãÊàê: „Éó„É≠„Éï„Ç°„Ç§„É´ÂàÜÊûê + „Çπ„Éù„ÉÉ„ÉàË©≥Á¥∞ + Âπ¥Èñì„Ç¨„Ç§„ÉÄ„É≥„Çπ
- ÂÄã‰∫∫ÂåñÂ∫¶: 80%‰ª•‰∏ä
- Ê†πÊã†: Áµ±Ë®àÂ≠¶ÁöÑÊ†πÊã†„ÇíÊòéÁ§∫
- Ë°®Áèæ: Áæé„Åó„ÅÑÊó•Êú¨Ë™ûË°®Áèæ„Çí‰ΩøÁî®
            `;
            
            materialsDiv.textContent = materials;
        }

        // ÊùêÊñô„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº
        async function copyMaterialsToClipboard() {
            try {
                const materials = document.getElementById('reportMaterials').textContent;
                await navigator.clipboard.writeText(materials);
                
                // ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏
                const button = document.getElementById('copyMaterials');
                const originalText = button.textContent;
                button.textContent = '‚úÖ „Ç≥„Éî„ÉºÂÆå‰∫ÜÔºÅ';
                button.style.background = '#48bb78';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
                
            } catch (error) {
                console.error('„Ç≥„Éî„ÉºÂ§±Êïó:', error);
                alert('„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å∏„ÅÆ„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊâãÂãï„Åß„Ç≥„Éî„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
            }
        }
    </script>
</body>
</html>
